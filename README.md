# Random Movie
Ever get stuck don't know what to watch ? with Random Movie app you can get random movie that might interest you.

and just click next at the bottom of the page you can get a new set of movies without refreshing the page

* RESTful endpoint for Random Movie's CRUD operation
* JSON formatted response

## RESTful endpoints
### POST /register

> user Register

_Request Header_
```
not needed

```

_Request Body_
```
{
  email : <posted-email>,
  password : <posted-password>,
  first_name : <posted-first_name>,
  last_name : <posted-last_name>
}
```

_Response (201)_
```
[
    {
    "id": <Automatically generated by database>,
    "email": <posted-email>,
    "first_name" : <posted-first_name>,
    "last_name" : <posted-last_name>,
    "password": <hashed posted-password>,
    "updatedAt": "2020-05-08T11:26:59.712Z",
    "createdAt": "2020-05-08T11:26:59.712Z"
    }
]

```

_Response (400 - Bad Request)_
```
{
  "errorCode" = 'VALIDATION_ERROR'
  "message": "<returned error message>"
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "<returned error message>"
}
```

### POST /login

> user Login

_Request Header_
```
not needed

```

_Request Body_
```
{
  email : <posted-email>,
  password : <posted-password>
}
```

_Response (201)_
```
[
    {
    "access_token": <This access token generated automatically when you Logged-in>
    }
]

```

_Response (400 - Bad Request)_
```
{
  "errorCode" = 'INVALID_EMAIL_OR_PASSWORD'
  "message": "<returned error message>"
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "<returned error message>"
}
```

### GET /movie/1/popular

> Get popular movies randomly from TMDB API
>1 is just a differentiator / not important

_Request Header_
```

not needed


```

_Request Body_
```
not needed
```

_Response (200)_
```
    {
    "page": 2,
    "total_results": 10000,
    "total_pages": 500,
    "results": [
        {
            "popularity": 87.731,
            "vote_count": 3884,
            "video": false,
            "poster_path": "/pThyQovXQrw2m0s9x82twj48Jq4.jpg",
            "id": 546554,
            "adult": false,
            "backdrop_path": "/AbRYlvwAKHs0YuyNO6NX9ofq4l6.jpg",
            "original_language": "en",
            "original_title": "Knives Out",
            "genre_ids": [
                35,
                80,
                18,
                9648,
                53
            ],
            "title": "Knives Out",
            "vote_average": 7.8,
            "overview": "When renowned crime novelist Harlan Thrombey is found dead at his estate just after his 85th birthday, the inquisitive and debonair Detective Benoit Blanc is mysteriously enlisted to investigate. From Harlan's dysfunctional family to his devoted staff, Blanc sifts through a web of red herrings and self-serving lies to uncover the truth behind Harlan's untimely death.",
            "release_date": "2019-11-27"
        },
        {
            "popularity": 71.49,
            "vote_count": 49,
            "video": false,
            "poster_path": "/xLZQdhtdQasK2LwD86xhwe19pYG.jpg",
            "id": 390845,
            "adult": false,
            "backdrop_path": "/7MXxVfzj77qA6aV3cOnj1AZnyDg.jpg",
            "original_language": "ko",
            "original_title": "맛있는 비행",
            "genre_ids": [
                10749
            ],
            "title": "A Delicious Flight",
            "vote_average": 4,
            "overview": "The in- flight service for Hong Kong starts now!  An erotic story that took place in the spacious blue sky!  An innocent actress runs away from the scandal with an idol, the impudent idol that ruined her career, a passionate manager who is devoted to her and his ex-girlfriend who is now a sexy stewardess. These four that should never be together run into each other in an airplane. No one can run away and the most cheeky and erotic things happen here.",
            "release_date": "2015-11-01"
        },
        {   
            "popularity": 74.219,
            "vote_count": 3607,
            "video": false,
            "poster_path": "/jyw8VKYEiM1UDzPB7NsisUgBeJ8.jpg",
            "id": 512200,
            "adult": false,
            "backdrop_path": "/zTxHf9iIOCqRbxvl8W5QYKrsMLq.jpg",
            "original_language": "en",
            "original_title": "Jumanji: The Next Level",
            "genre_ids": [
                12,
                35,
                14
            ],
            "title": "Jumanji: The Next Level",
            "vote_average": 6.9,
            "overview": "As the gang return to Jumanji to rescue one of their own, they discover that nothing is as they expect. The players will have to brave parts unknown and unexplored in order to escape the world’s most dangerous game.",
            "release_date": "2019-12-04"
        }, <---------|
        {           |
        },           |
        {           |
        },           |
        {           |
        },           |
        {           |
        },           |
        {           |
        },           |
        {           |
        },           |
        {           |
        },           |
        {           |
        },           |
        {           |---------( Wrapped lines not empty object )
        },           |
        {           |
        },           |
        {           |
        },           |
        {           |
        },           |
        {           |
        },           |
        {           |
        },           |
        {           |
        },           |
        {           |
        },           |
        {           |
        } <----------|
        ]
    }

```

_Response (500 - Internal Server Error)_
```
{
  "message": "<returned error message>"
}
```

### GET /movie/:string/:page

> Find movie by string/word(s) 
>page is 1 by default and can be increment when user click next
>assuming we're looking movie with title "The Notebook"

_Request Header_
```

not needed

```

_Request Body_
```
not needed
```

_Request Params_
```
{ 
    string: ':string',
    page: ':page'
}
```

_Response (200 - Ok)_
```
{
    "page": 1,
    "total_results": 34,
    "total_pages": 2,
    "results": [
        {
            "popularity": 21.952,
            "id": 11036,
            "video": false,
            "vote_count": 7407,
            "vote_average": 7.9,
            "title": "The Notebook",
            "release_date": "2004-06-25",
            "original_language": "en",
            "original_title": "The Notebook",
            "genre_ids": [
                10749,
                18
            ],
            "backdrop_path": "/qom1SZSENdmHFNZBXbtJAU0WTlC.jpg",
            "adult": false,
            "overview": "An epic love story centered around an older man who reads aloud to a woman with Alzheimer's. From a faded notebook, the old man's words bring to life the story about a couple who is separated by World War II, and is then passionately reunited, seven years later, after they have taken different paths.",
            "poster_path": "/28HcbSyLA3SlgmXSEnt5gOPaiKH.jpg"
        }, <---------|
        {           |
        },           |
        {           |
        },           |
        {           |
        },           |
        {           |
        },           |
        {           |
        },           |---------( Wrapped lines not empty object )
        {           |
        },           |
        {           |
        },           |
        {           |
        },           |
        {           |
        },           |
        {           |
        } <----------|
    ]
}

```

_Response (404 - Not Found)_
```
{
    "message": "Data not found"
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "<returned error message>"
}
```

### GET /favorite/:status

> Get popular based on have been watched or not
> assuming status params equal to "have"

_Request Header_
```
not needed

```

_Request Body_
```
not needed
```

_Request Params_
```
{ 
    status: ':status'
}
```

_Response (200)_
```
{
  id: <given id by system>,
  movieId: <movieId by TMDB>,
  imageUrl: '/abcdefghijklmnopqrstuvwxyz.jpg',       
  status: <have>,
  UserId: <userId>,
  description: <movie description by TMDB>,
  released_date: <date when the particular movie released>,
  title: <movie title>,
  updatedAt: 2020-05-10T06:18:46.956Z,
  createdAt: 2020-05-10T06:18:46.956Z
},
{
  id: <given id by system>,
  movieId: <movieId by TMDB>,
  imageUrl: '/abcdefghijklmnopqrstuvwxyz.jpg',       
  status: <have>,
  UserId: <userId>,
  description: <movie description by TMDB>,
  released_date: <date when the particular movie released>,
  title: <movie title>,
  updatedAt: 2020-05-10T06:18:46.956Z,
  createdAt: 2020-05-10T06:18:46.956Z
},
{
  id: <given id by system>,
  movieId: <movieId by TMDB>,
  imageUrl: '/abcdefghijklmnopqrstuvwxyz.jpg',       
  status: <have>,
  UserId: <userId>,
  description: <movie description by TMDB>,
  released_date: <date when the particular movie released>,
  title: <movie title>,
  updatedAt: 2020-05-10T06:18:46.956Z,
  createdAt: 2020-05-10T06:18:46.956Z
}

```

_Response (404 - Not Found)_
```
{
    "message": "Data not found"
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "<returned error message>"
}
```




### POST /favorite

> add new Movie to Favorites Table

_Request Header_
```
{
    "access_token": <This access token generated automatically when you Log-in>
}

```

_Request Body_
```
{
  "movieId": "<posted movieId of chosen movie>",
  "imageUrl": "<posted imageUrl of chosen movie>",
  "status": "<posted status of chosen movie>",
  "UserId": "<posted UserId of chosen movie>",
  "description": "<posted description of chosen movie>",
  "released_date": "<posted released_date of chosen movie>",
  "title": "<posted title of chosen movie>",
}
```

__Request userData__
```
{
    "id" : <id after access_token decoded by authentication>,
    "first_name" : <first_name after access_token decoded by authentication>,
    "last_name" : <last_name after access_token decoded by authentication>,
    "email" : <email> after access_token decoded by authentication>
}
```

_Response (201 - Created)_
```
{
  id: <given id by system>,
  movieId: <movieId by TMDB>,
  imageUrl: '/abcdefghijklmnopqrstuvwxyz.jpg',       
  status: <haven't> or <have>,
  UserId: <userId>,
  description: <movie description by TMDB>,
  released_date: <date when the particular movie released>,
  title: <movie title>,
  updatedAt: 2020-05-10T06:18:46.956Z,
  createdAt: 2020-05-10T06:18:46.956Z
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "<returned error message>"
}
```

### PUT /favorite/:id

> Update status

_Request Header_
```
{
    "access_token": <This access token generated automatically when you Log-in>
}

```

_Request Body_
```
{
  "status": "<updated status>",
}
```

_Request Params_
```
{ id: ':id' }
```

_Response (200 - Ok)_
```
{
    [1] // if successfully update
    [0] // if failed updating
}
```

_Response (404 - Not Found)_
```
{
    "message": "Data not found"
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "<returned error message>"
}
```

### DELETE /task/:id

> Delete favorite movie by id

_Request Header_
```
{
    "access_token": <This access token generated automatically when you Log-in>
}

```

_Request Body_
```
not needed
```

_Request Params_
```
{ id: ':id' }
```


_Response (200 - Ok)_
```
{
    "message": "data succesfully deleted"
}
```

_Response (404 - Not Found)_
```
{
    "message": "Data not found"
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "<returned error message>"
}
```